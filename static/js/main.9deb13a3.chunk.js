(this["webpackJsonpreact-around-auth"]=this["webpackJsonpreact-around-auth"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(20),c=n.n(o),s=n(25),r=n(6),i=n(3),l=n(4),u=(n(31),n(10)),p=n.p+"static/media/Logo.50fce9df.svg",d=n(0),b=function(e){var t=e.title,n=e.userEmail,a=e.onLogout,o=e.link;return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("img",{src:p,alt:"Logo of Around the U.S",className:"header__logo"}),Object(d.jsxs)("ul",{className:"header__nav",children:[n&&Object(d.jsx)("li",{children:Object(d.jsx)("p",{className:"header__email",children:n})}),Object(d.jsx)("li",{children:Object(d.jsx)(u.b,{to:o,onClick:a,className:"header__logout",children:t})})]})]})},j=function(e){var t=e.name,n=e.isOpen,a=e.card,o=e.onClose;return Object(d.jsx)("section",{className:"popup popup_type_".concat(t," ").concat(n&&"popup_opened"),onClick:function(e){e.target===e.currentTarget&&o()},children:Object(d.jsxs)("div",{className:"popup__container popup__container_".concat(t),children:[Object(d.jsx)("button",{type:"button",className:"popup__close-button popup__close-button_preview","aria-label":"Close button",onClick:o}),Object(d.jsx)("img",{className:"popup__image",src:a.link||"#",alt:"bigger size of the card with its link and name"}),Object(d.jsx)("p",{className:"popup__preview-title",children:a.name})]})})},m=Object(a.createContext)(),h=function(e){var t=e.card,n=e.onCardClick,o=e.onCardLike,c=e.onCardDelete,s=(e.onConfirmDeleteClick,Object(a.useContext)(m)),r=t.owner._id===s._id,i=t.likes.some((function(e){return e._id===s._id}));return Object(d.jsxs)("li",{className:"element",children:[Object(d.jsx)("button",{className:"element__delete-button ".concat(r?"element__delete-button":"element__delete-button_type_hidden"),"aria-label":"Delete button",type:"button",onClick:function(e){e.preventDefault(),c(t)}}),Object(d.jsx)("div",{className:"element__image",style:{backgroundImage:"url(".concat(t.link,")")},onClick:function(){return n(t)}}),Object(d.jsxs)("div",{className:"element__flex",children:[Object(d.jsx)("h2",{className:"element__text",children:t.name}),Object(d.jsxs)("div",{className:"element__like-wrapper",children:[Object(d.jsx)("button",{type:"button",className:"element__like-button ".concat(i?"element__like-button_active":"element__like-button"),onClick:function(){return o(t)}}),Object(d.jsx)("p",{className:"element__like-count",children:t.likes.length})]})]})]})},f=function(e){var t=e.onEditProfileClick,n=e.onAddPlaceClick,o=e.onEditAvatarClick,c=e.onCardClick,s=e.onConfirmDeleteClick,r=e.cards,i=e.onCardLike,l=e.onCardDelete,u=e.userEmail,p=e.onLogoutClick,j=Object(a.useContext)(m);return Object(d.jsxs)("main",{children:[Object(d.jsx)(b,{onLogout:p,link:"/",title:"Log out",userEmail:u}),Object(d.jsxs)("section",{className:"profile",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"profile__avatar-overlay",onClick:o}),Object(d.jsx)("img",{src:j.avatar,alt:"old person with a red hat smiling to camera",className:"profile__avatar"})]}),Object(d.jsxs)("div",{className:"profile__info",children:[Object(d.jsx)("h1",{className:"profile__name",children:j.name}),Object(d.jsx)("button",{className:"profile__edit-button","aria-label":"edit button",type:"button",onClick:t}),Object(d.jsx)("p",{className:"profile__job",children:j.about})]}),Object(d.jsx)("button",{className:"profile__add-button","aria-label":"Add button",type:"button",onClick:n})]}),Object(d.jsx)("section",{className:"elements",children:Object(d.jsx)("ul",{className:"elements__list",children:r.map((function(e){return Object(d.jsx)(h,{card:e,onCardClick:c,onConfirmDeleteClick:s,onCardLike:i,onCardDelete:l},e._id)}))})})]})},O=function(e){var t=e.title,n=e.name,a=e.buttonText,o=e.isOpen,c=e.children,s=e.onClose,r=e.onSubmit;return Object(d.jsx)("section",{className:"popup popup_type_".concat(n," ").concat(o&&"popup_opened"),onClick:function(e){e.target===e.currentTarget&&s()},children:Object(d.jsxs)("div",{className:"popup__container popup__container_".concat(n),children:[Object(d.jsx)("button",{type:"button",className:"popup__close-button popup__close-button_profile","aria-label":"Close button",onClick:s}),Object(d.jsxs)("form",{name:n,className:"popup__form popup__form_type_".concat(n),onSubmit:r,children:[Object(d.jsx)("h2",{className:"popup__title",children:t}),c,Object(d.jsx)("button",{type:"submit",className:"popup__button",children:a})]})]})})},g=n(11),v=function(e){var t=e.isOpen,n=e.onClose,o=e.onUpdateUser,c=Object(a.useContext)(m),s=Object(a.useState)({name:"",about:""}),l=Object(i.a)(s,2),u=l[0],p=l[1],b=u.name,j=u.about,h=function(e){var t=e.target,n=t.name,a=t.value;p(Object(r.a)(Object(r.a)({},u),{},Object(g.a)({},n,a)))};Object(a.useEffect)((function(){p({name:c.name,about:c.about})}),[c,t]);return Object(d.jsxs)(O,{isOpen:t,onClose:n,name:"edit-profile",title:"Edit Profile",buttonText:"Save",onSubmit:function(e){e.preventDefault(),o(u),p({name:"",link:""})},children:[Object(d.jsxs)("label",{className:"popup__form-field",htmlFor:"name-input",children:[Object(d.jsx)("input",{type:"text",name:"name",className:"popup__input popup__input_type_name",placeholder:"Name",minLength:"2",maxLength:"40",id:"name-input",required:!0,value:b||"",onChange:h}),Object(d.jsx)("span",{className:"popup__input-error name-input-error"})]}),Object(d.jsxs)("label",{className:"popup__form-field",htmlFor:"job-input",children:[Object(d.jsx)("input",{type:"text",name:"about",className:"popup__input popup__input_type_job",placeholder:"Job",minLength:"2",maxLength:"200",id:"job-input",required:!0,value:j||"",onChange:h}),Object(d.jsx)("span",{className:"popup__input-error job-input-error"})]})]})},x=function(e){var t=e.isOpen,n=e.onClose,o=e.onUpdateAvatar,c=Object(a.useRef)();return Object(d.jsx)(O,{isOpen:t,onClose:n,name:"profile-avatar",title:"Change profile picture",buttonText:"Save",onSubmit:function(e){e.preventDefault();var t=c.current.value;o(t)},children:Object(d.jsxs)("label",{className:"popup__form-field",htmlFor:"avatar-input",children:[Object(d.jsx)("input",{type:"url",name:"avatar",className:"popup__input popup__input_type_image-link",placeholder:"Avatar link",id:"avatar-input",required:!0,ref:c}),Object(d.jsx)("span",{className:"popup__input-error avatar-input-error"})]})})},k=function(e){var t=e.isOpen,n=e.onClose,o=e.onAddPlace,c=Object(a.useState)({name:"",link:""}),s=Object(i.a)(c,2),l=s[0],u=s[1],p=l.name,b=l.link;Object(a.useEffect)((function(){u({name:"",link:""})}),[t]);var j=function(e){var t=e.target,n=t.name,a=t.value;u(Object(r.a)(Object(r.a)({},l),{},Object(g.a)({},n,a)))};return Object(d.jsxs)(O,{isOpen:t,onClose:n,name:"add-card",title:"New place",buttonText:"Create",onSubmit:function(e){e.preventDefault(),o(l)},children:[Object(d.jsxs)("label",{className:"popup__form-field",children:[Object(d.jsx)("input",{type:"text",name:"name",className:"popup__input popup__input_type_title",placeholder:"Title",required:!0,minLength:"1",maxLength:"30",id:"title-input",value:p,onChange:j}),Object(d.jsx)("span",{className:"popup__input-error title-input-error"})]}),Object(d.jsxs)("label",{className:"popup__form-field",children:[Object(d.jsx)("input",{type:"url",name:"link",className:"popup__input popup__input_type_image-link",placeholder:"Image Link",required:!0,id:"url-input",value:b,onChange:j}),Object(d.jsx)("span",{className:"popup__input-error url-input-error"})]})]})},y=n(26),N=function(e){var t=e.component,n=Object(y.a)(e,["component"]);return Object(d.jsx)(l.b,{children:function(){return n.loggedIn?Object(d.jsx)(t,Object(r.a)({},n)):Object(d.jsx)(l.a,{to:"./login"})}})},C=n.p+"static/media/success.1b6082f8.svg",_=n.p+"static/media/error.df8eddf6.svg",w=function(e){var t=e.isOpen,n=e.onClose,a=e.name,o=e.success;return Object(d.jsx)("section",{className:"popup popup_type_".concat(a," ").concat(t&&"popup_opened"),onClick:function(e){e.target===e.currentTarget&&n()},children:Object(d.jsxs)("div",{className:"popup__container popup__container_".concat(a),children:[Object(d.jsx)("button",{type:"button",className:"popup__close-button popup__close-button_profile","aria-label":"Close button",onClick:n}),Object(d.jsx)("div",{className:"popup__tooltip",children:o?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{className:"popup__success",alt:"success",src:C}),Object(d.jsx)("p",{className:"popup__title",children:"Success! You have now been registered."})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{className:"popup__error",alt:"error icon",src:_}),Object(d.jsx)("p",{className:"popup__title",children:"Oops, something went wrong! Please try again."})]})})]})})},A=function(e){var t=e.onRegister,n=Object(l.g)(),o=Object(a.useState)({email:"",password:"",confirmPassword:""}),c=Object(i.a)(o,2),s=c[0],p=c[1];Object(a.useEffect)((function(){localStorage.getItem("token")&&n.push("/")}),[]);var b=function(e){var t=e.target,n=t.name,a=t.value;p(Object(r.a)(Object(r.a)({},s),{},Object(g.a)({},n,a)))},j=function(){p({email:"",password:"",confirmPassword:""})};return Object(d.jsxs)("section",{className:"register",children:[Object(d.jsx)("p",{className:"register__title",children:"Sign Up"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s.password===s.confirmPassword&&(j(),t(s.email,s.password))},className:"register__form",children:[Object(d.jsx)("label",{htmlFor:"email",className:"register__form-field",children:Object(d.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:b,placeholder:"Email",className:"register__input"})}),Object(d.jsx)("label",{htmlFor:"password",className:"register__form-field",children:Object(d.jsx)("input",{id:"password",name:"password",type:"password",minLength:2,maxLength:40,required:!0,value:s.password,onChange:b,placeholder:"Password",className:"register__input"})}),Object(d.jsx)("label",{htmlFor:"confirmPassword",className:"register__form-field",children:Object(d.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",minLength:2,maxLength:40,required:!0,value:s.confirmPassword,onChange:b,placeholder:"Confirm Password",className:"register__input"})}),Object(d.jsx)("button",{type:"submit",className:"register__button",children:"Sign up"})]}),Object(d.jsxs)("p",{className:"register__text",children:["Already a member?",Object(d.jsx)(u.b,{to:"signin",className:"register__link",children:"Log in here!"})]})]})},S=function(e){var t=e.onLogin,n=Object(a.useState)({email:"",password:""}),o=Object(i.a)(n,2),c=o[0],s=o[1],l=function(e){var t=e.target,n=t.name,a=t.value;s(Object(r.a)(Object(r.a)({},c),{},Object(g.a)({},n,a)))},p=function(){s({email:"",password:""})};return Object(d.jsxs)("section",{className:"login",children:[Object(d.jsx)("h2",{className:"login__title",children:"Log in"}),Object(d.jsxs)("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),c.email&&c.password&&(p(),t(c.email,c.password))},children:[Object(d.jsx)("label",{htmlFor:"username",className:"login__form-field",children:Object(d.jsx)("input",{className:"login__input",placeholder:"Email",type:"email",name:"email",required:!0,value:c.email,onChange:l})}),Object(d.jsx)("label",{htmlFor:"password",className:"login__form-field",children:Object(d.jsx)("input",{className:"login__input",placeholder:"Password",type:"password",name:"password",minLength:2,maxLength:10,required:!0,value:c.password,onChange:l})}),Object(d.jsx)("button",{className:"login__button",type:"submit",children:"Log In"})]}),Object(d.jsxs)("p",{className:"login__text",children:["Not a member yet?",Object(d.jsx)(u.b,{to:"/signup",className:"login__link",children:"Sign up here!"})]})]})},q="https://register.nomoreparties.co",P=function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))},L=n(23),R=n(24),F=new(function(){function e(t){var n=t.baseUrl,a=t.headers;t.apiKey;Object(L.a)(this,e),this._baseUrl=n,this._headers=a}return Object(R.a)(e,[{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._handleResponse)}},{key:"getUserData",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._handleResponse)}},{key:"getAppInfo",value:function(){return Promise.all([this.getUserData(),this.getInitialCards()])}},{key:"addCard",value:function(e){var t=e.name,n=e.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:n})}).then(this._handleResponse)}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,about:n})}).then(this._handleResponse)}},{key:"setUserAvatar",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then(this._handleResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"PUT"}).then(this._handleResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{headers:this._headers,method:"DELETE"}).then(this._handleResponse)}},{key:"changeLikeCardStatus",value:function(e,t){return t?this.addLike(e):this.deleteLike(e)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{headers:this._headers,method:"DELETE"}).then(this._handleResponse)}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/".concat("group-10"),headers:{authorization:"6af9648e-23ea-4651-bc48-5ca8b1b3f30e","Content-Type":"application/json"}});var T=function(){var e=Object(l.g)(),t=Object(a.useState)({name:"",about:"",avatar:"data:image/png;base64,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"}),n=Object(i.a)(t,2),o=n[0],c=n[1],u=Object(a.useState)([]),p=Object(i.a)(u,2),h=p[0],g=p[1],y=Object(a.useState)(!1),C=Object(i.a)(y,2),_=C[0],L=C[1],R=Object(a.useState)(!1),T=Object(i.a)(R,2),Z=T[0],Y=T[1],V=Object(a.useState)(!1),X=Object(i.a)(V,2),D=X[0],J=X[1],U=Object(a.useState)(!1),E=Object(i.a)(U,2),G=E[0],M=E[1],I=Object(a.useState)(!1),Q=Object(i.a)(I,2),z=Q[0],B=Q[1],H=Object(a.useState)(!1),K=Object(i.a)(H,2),W=K[0],$=K[1],ee=Object(a.useState)({}),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],oe=function(){L(!1),Y(!1),J(!1),M(!1),$(!1),B(!1)},ce=Object(a.useState)(!0),se=Object(i.a)(ce,2),re=se[0],ie=se[1],le=Object(a.useState)(""),ue=Object(i.a)(le,2),pe=ue[0],de=ue[1],be=Object(a.useState)(!1),je=Object(i.a)(be,2),me=je[0],he=je[1];Object(a.useEffect)((function(){fe()}),[]);var fe=function(){var t=localStorage.getItem("token");t?function(e){return fetch("".concat(q,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then(P).then((function(e){return e}))}(t).then((function(t){ie(!0),de(t.data.email),he(!0),e.push("/")})).catch((function(e){return console.error(e)})):ie(!1)};return Object(a.useEffect)((function(){var e=function(e){"Escape"===e.key&&oe()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),Object(a.useEffect)((function(){F.getAppInfo().then((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];c(n),g(a)})).catch((function(e){return console.log(e)}))}),[]),Object(d.jsxs)(m.Provider,{value:o,children:[Object(d.jsxs)(l.d,{children:[Object(d.jsx)(N,{exact:!0,path:"/",loggedIn:re,component:f,onEditProfileClick:function(){return L(!0)},onAddPlaceClick:function(){return Y(!0)},onEditAvatarClick:function(){return J(!0)},onCardClick:function(e){ae(e),$(!0)},onConfirmDeleteClick:function(){return M(!0)},cards:h,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===o._id}));F.changeLikeCardStatus(e._id,!t).then((function(t){g((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){return console.error(e)}))},onCardDelete:function(e){F.deleteCard(e._id).then((function(){g((function(t){return t.filter((function(t){return t._id!==e._id}))})),oe()})).catch((function(e){return console.error(e)}))},onLogoutClick:function(){localStorage.removeItem("token"),ie(!1),de(""),e.push("/signin")},userEmail:pe}),Object(d.jsxs)(l.b,{path:"/signup",children:[Object(d.jsx)(b,{title:"Sign In",link:"/signin"}),Object(d.jsx)(A,{onRegister:function(t,n){(function(e,t){return fetch("".concat(q,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(P).then((function(e){return e}))})(t,n).then((function(t){t?(he(!0),e.push("/signin")):he(!1)})).catch((function(e){return console.error(e)})).finally((function(){return B(!0)}))}})]}),Object(d.jsxs)(l.b,{path:"/signin",children:[Object(d.jsx)(b,{title:"Sign Up",link:"/signup"}),Object(d.jsx)(S,{onLogin:function(e,t){(function(e,t){return fetch("".concat(q,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(P).then((function(e){return e.token?(localStorage.setItem("token",e.token),e):void 0}))})(e,t).then((function(e){e||(ie(!1),he(!1)),fe()})).catch((function(e){console.log(e),he(!1)})).finally((function(){return B(!0)}))}})]}),Object(d.jsx)(l.b,{children:re?Object(d.jsx)(l.a,{to:"/"}):Object(d.jsx)(l.a,{to:"/signin"})})]}),Object(d.jsx)(w,{isOpen:z,onClose:oe,name:"infoTooltip",success:me}),Object(d.jsx)(v,{isOpen:_,onClose:oe,onUpdateUser:function(e){var t=e.name,n=e.about;F.setUserInfo({name:t,about:n}).then((function(e){c(Object(r.a)({name:t,about:n},e)),oe()})).catch((function(e){return console.error(e)}))}}),Object(d.jsx)(x,{isOpen:D,onClose:oe,onUpdateAvatar:function(e){F.setUserAvatar(e).then((function(t){c(Object(r.a)({avatar:e},t)),oe()})).catch((function(e){return console.error(e)}))}}),Object(d.jsx)(k,{isOpen:Z,onClose:oe,onAddPlace:function(e){var t=e.name,n=e.link;F.addCard({name:t,link:n}).then((function(e){g([e].concat(Object(s.a)(h))),oe()})).catch((function(e){return console.error(e)}))}}),Object(d.jsx)(O,{isOpen:G,onClose:oe,name:"confirm",title:"Are you sure?",buttonText:"Yes"}),Object(d.jsx)(j,{card:ne,onClose:oe,isOpen:W,name:"preview"}),Object(d.jsx)(O,{isOpen:G,onClose:oe,name:"confirm",title:"Are you sure?",buttonText:"Yes"})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),o(e),c(e),s(e)}))},Y=(n(43),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function V(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(d.jsx)(u.a,{children:Object(d.jsx)(T,{})}),document.getElementById("root")),Z(),function(e){if("serviceWorker"in navigator){if(new URL("/react-around-auth",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-around-auth","/service-worker.js");Y?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):V(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):V(t,e)}))}}()}},[[44,1,2]]]);
//# sourceMappingURL=main.9deb13a3.chunk.js.map